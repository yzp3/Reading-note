# Java垃圾回收

1. **_C++_** 引用计数，若循环引用则内存泄漏。
2. **_Java_**  _自适应、分代_
**停止——复制**：暂停程序，把所有“活：的对象复制到另一个堆，没被复制的都是垃圾，新堆排列紧凑。
==缺点：必须修正所有引用，两个堆来回倒腾，维护需要比实际多一倍的空间，效率降低==
Jvm按需从堆中分配几块较大的内存，复制动作发生在这些大块内存中。
==如果程序进入稳定状态，只产生少量垃圾，复制式回收器会显得很浪费==
**标记——清扫**：如果没有新垃圾，Jvm从堆栈和静态存储区开始，遍历所有引用，找到一个”活“的对象，就设一个标记，全部标记完后开始清扫，同时也避免了循环引用的问题。
